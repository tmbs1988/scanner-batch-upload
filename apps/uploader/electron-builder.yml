appId: com.3dfotteknik.scanner-batch-uploader
productName: "3D Fotteknik Scanner Batch Uploader"
directories:
  output: "dist"
files:
  - "src/**"
  - "package.json"
asar: true
icon: "src/renderer/icon.ico"
extraResources:
  - from: "src/renderer/icon.ico"
    to: "icon.ico"
  - from: "src/renderer/icon.png"
    to: "icon.png"
win:
  target:
    - nsis
  artifactName: "${productName} Setup ${version}.${ext}"
nsis:
  oneClick: true
  perMachine: false
  allowToChangeInstallationDirectory: false
  createDesktopShortcut: always
  createStartMenuShortcut: true
  runAfterFinish: true
  shortcutName: "3D Fotteknik Scanner Batch Uploader"
  include: "build/installer.nsh"
  deleteAppDataOnUninstall: false
extraMetadata:
  # Use package.json version; remove hardcoded override
  # version: "0.1.1"
publish:
  # Klienten hämtar uppdateringar via 'generic' (static latest.yml) för att undvika GitHub API‑begränsningar (406).
  - provider: generic
    url: "https://github.com/tmbs1988/scanner-batch-upload/releases/latest/download/"
  # CI laddar fortfarande upp artefakter till GitHub Releases.
  - provider: github
    owner: tmbs1988
    repo: scanner-batch-upload


